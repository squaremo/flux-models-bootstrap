apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
    name: flux-readonly
upstream:
    type: git
    git:
        commit: 47f61e7a51fc8c5997d9d8e3f349c34eb556c471
        repo: https://github.com/squaremo/flux-models
        directory: /flux-readonly
        ref: master
openAPI:
    definitions:
        io.k8s.cli.setters.git-url:
            x-k8s-cli:
                setter:
                    name: git-url
                    value: https://github.com/squaremo/flux-models-bootstrap
        io.k8s.cli.substitutions.git-url-arg:
            x-k8s-cli:
                substitution:
                    name: git-url-arg
                    pattern: --git-url=GIT_URL
                    values:
                      - marker: GIT_URL
                        ref: '#/definitions/io.k8s.cli.setters.git-url'
